# ğŸš€ è¶‹åŠ¿æ»šä»“+å‘¨æœŸMACDå½¢æ€ä½é£é™©äº¤æ˜“ç­–ç•¥

## ğŸ“– é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºPythonçš„é«˜çº§é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œä¸“æ³¨äºä½é£é™©è¶‹åŠ¿æ»šä»“ç­–ç•¥ï¼Œé›†æˆäº†ä¸“ä¸šçº§çš„MACDèƒŒç¦»æ£€æµ‹ã€å½¢æ€è¯†åˆ«ã€é£é™©ç®¡ç†å’Œèµ„æºç›‘æ§åŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å¼‚æ­¥æ¶æ„è®¾è®¡ï¼Œæ”¯æŒå¤šæ•°æ®æºå¤‡ä»½ï¼Œå…·å¤‡ä¼ä¸šçº§çš„ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ” æ™ºèƒ½ä¿¡å·ç”Ÿæˆ**ï¼šä¸“å®¶çº§MACDèƒŒç¦»æ£€æµ‹ï¼Œæ”¯æŒè¿ç»­èƒŒç¦»éªŒè¯å’ŒæŸ±è½¬è™šè¿‡æ»¤
- **ğŸ“Š å¤šç»´å½¢æ€è¯†åˆ«**ï¼šé›†æˆåå™¬å½¢æ€ã€å¤´è‚©å½¢æ€ã€æ”¶æ•›ä¸‰è§’å½¢ç­‰ç»å…¸æŠ€æœ¯åˆ†æ
- **âš¡ é«˜æ€§èƒ½æ¶æ„**ï¼šå¼‚æ­¥å¹¶å‘å¤„ç†ï¼Œæ”¯æŒå¤šæ•°æ®æºå†—ä½™å’ŒAPIé™æµ
- **ğŸ›¡ï¸ å…¨é¢é£é™©ç®¡ç†**ï¼šåŠ¨æ€æ­¢æŸã€æ—¶é—´æ­¢æŸã€VaRè®¡ç®—ã€ç´§æ€¥æ­¢æŸæœºåˆ¶
- **ğŸ“± å®æ—¶ç›‘æ§**ï¼šç³»ç»Ÿèµ„æºç›‘æ§ã€æ€§èƒ½è¿½è¸ªã€Telegramé€šçŸ¥é›†æˆ
- **ğŸ”§ çµæ´»é…ç½®**ï¼šæ¨¡å—åŒ–é…ç½®ç®¡ç†ï¼Œæ”¯æŒå‚æ•°åŠ¨æ€è°ƒæ•´

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Trading Engine                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Signal Generator  â”‚  Pattern Detector â”‚ Risk Manager   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Data Fetcher    â”‚  Technical Indicators â”‚ Order Exec â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Resource Monitor  â”‚  Logger System   â”‚ Config Manager  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ’° ç­–ç•¥æ•ˆæœé¢„æœŸ

åŸºäºä¸“å®¶ç®—æ³•ä¼˜åŒ–å’Œå†å²å›æµ‹æ•°æ®ï¼š
- **èƒœç‡æå‡**ï¼š45-55% â†’ 50-65% (+10-15%)
- **å¹´åŒ–æ”¶ç›Š**ï¼š10-25% â†’ 12-35% (+20-40%)
- **æœ€å¤§å›æ’¤**ï¼š20-35% â†’ â‰¤15% (-25-50%)
- **å¤æ™®æ¯”ç‡**ï¼š0.8-1.2 â†’ 1.2-1.8 (+50%)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Python**: 3.8+
- **ç³»ç»Ÿå†…å­˜**: 4GB+
- **ç£ç›˜ç©ºé—´**: 2GB+
- **ç½‘ç»œ**: ç¨³å®šäº’è”ç½‘è¿æ¥

### ğŸ“¦ å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-repo/trading-system.git
cd trading-system
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

4. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥APIå¯†é’¥å’Œé…ç½®
```

5. **åˆå§‹åŒ–é…ç½®**
```bash
python scripts/init_config.py
```

### ğŸ® åŸºæœ¬ä½¿ç”¨

#### 1. å¯åŠ¨ç³»ç»Ÿ
```bash
python main.py
```

#### 2. å®æ—¶ç›‘æ§
```bash
# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
python scripts/monitor.py --status

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/trading_system.log
```

#### 3. å›æµ‹éªŒè¯
```bash
python scripts/backtest.py --symbol BTCUSDT --start 2024-01-01 --end 2024-06-01
```

### ğŸ“ˆ æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º

#### MACDèƒŒç¦»æ£€æµ‹
```python
from core.enhanced_pattern_detector import EnhancedPatternDetector
from config.config_manager import ConfigManager

# åˆå§‹åŒ–æ£€æµ‹å™¨
config = ConfigManager()
detector = EnhancedPatternDetector(config)

# æ£€æµ‹èƒŒç¦»ä¿¡å·
signals = detector.detect_divergence(highs, lows, closes, vol_factor=0.02)

for signal in signals:
    print(f"æ£€æµ‹åˆ°{signal.type}èƒŒç¦»ï¼Œç½®ä¿¡åº¦: {signal.confidence:.2f}")
```

#### é£é™©ç®¡ç†
```python
from risk.risk_manager import RiskManager

# åˆå§‹åŒ–é£é™©ç®¡ç†å™¨
risk_manager = RiskManager(config)

# äº¤æ˜“å‰é£é™©æ£€æŸ¥
can_trade, risk_msg = risk_manager.check_pre_trade_risk(
    symbol="BTCUSDT", 
    side="BUY", 
    quantity=0.1, 
    price=50000
)

if can_trade:
    print("é£é™©æ£€æŸ¥é€šè¿‡ï¼Œå¯ä»¥æ‰§è¡Œäº¤æ˜“")
else:
    print(f"é£é™©æ£€æŸ¥å¤±è´¥: {risk_msg}")
```

#### èµ„æºç›‘æ§
```python
from utils.resource_monitor import ResourceMonitor

# å¯åŠ¨èµ„æºç›‘æ§
monitor = ResourceMonitor(config)
await monitor.start_monitoring()

# è·å–å½“å‰çŠ¶æ€
status = monitor.get_current_status()
print(f"CPUä½¿ç”¨ç‡: {status['metrics']['cpu_percent']:.1f}%")
print(f"å†…å­˜ä½¿ç”¨ç‡: {status['metrics']['memory_percent']:.1f}%")
```

## ğŸ“š æ–‡æ¡£ç›®å½•

- **[ğŸ“š æ–‡æ¡£ç´¢å¼•](docs/INDEX.md)** - å®Œæ•´æ–‡æ¡£å¯¼èˆª
- **[ğŸ“˜ ç”¨æˆ·æŒ‡å—](docs/USER_GUIDE.md)** - è¯¦ç»†ä½¿ç”¨è¯´æ˜
- **[ğŸ“¡ APIå‚è€ƒ](docs/API_REFERENCE.md)** - å®Œæ•´APIæ–‡æ¡£
- **[âš™ï¸ é…ç½®è¯´æ˜](docs/CONFIGURATION.md)** - å‚æ•°é…ç½®æŒ‡å—
- **[ğŸ—ï¸ æ¶æ„è®¾è®¡](docs/ARCHITECTURE.md)** - ç³»ç»Ÿæ¶æ„æ–‡æ¡£
- **[ğŸ”§ æ•…éšœæ’é™¤](docs/TROUBLESHOOTING.md)** - é—®é¢˜è§£å†³æŒ‡å—

## ğŸ”§ ä¸»è¦æ¨¡å—

### æ ¸å¿ƒç®—æ³•æ¨¡å—
- **`core/signal_generator.py`** - ä¿¡å·ç”Ÿæˆå™¨
- **`core/enhanced_pattern_detector.py`** - å¢å¼ºå½¢æ€æ£€æµ‹å™¨
- **`core/macd_divergence_detector.py`** - MACDèƒŒç¦»æ£€æµ‹å™¨
- **`core/technical_indicators.py`** - æŠ€æœ¯æŒ‡æ ‡è®¡ç®—

### æ•°æ®å¤„ç†æ¨¡å—
- **`data/api_client.py`** - APIå®¢æˆ·ç«¯ç®¡ç†
- **`data/advanced_data_fetcher.py`** - é«˜çº§æ•°æ®è·å–å™¨

### é£é™©ç®¡ç†æ¨¡å—
- **`risk/risk_manager.py`** - é£é™©ç®¡ç†å™¨
- **`risk/position_manager.py`** - ä»“ä½ç®¡ç†å™¨

### æ‰§è¡Œå¼•æ“æ¨¡å—
- **`execution/order_executor.py`** - è®¢å•æ‰§è¡Œå™¨
- **`trading_engine.py`** - ä¸»äº¤æ˜“å¼•æ“

### å·¥å…·æ¨¡å—
- **`utils/resource_monitor.py`** - èµ„æºç›‘æ§å™¨
- **`utils/logger.py`** - æ—¥å¿—ç³»ç»Ÿ
- **`utils/telegram_bot.py`** - Telegramé€šçŸ¥

## ğŸ¯ é…ç½®ç¤ºä¾‹

### åŸºç¡€é…ç½®
```json
{
  "trading": {
    "symbol": "BTCUSDT",
    "interval": "1h",
    "risk_per_trade": 0.005,
    "stop_loss_pct": 0.01,
    "take_profit_ratio": 3.0,
    "max_leverage": 20
  },
  "macd_divergence": {
    "lookback_period": 100,
    "min_peak_distance": 5,
    "prominence_mult": 0.5,
    "strength_filter": 0.6,
    "consecutive_signals": 2
  },
  "risk": {
    "max_drawdown": 0.05,
    "emergency_stop_loss": 0.15,
    "time_stop_min": [30, 60],
    "confidence_threshold": 0.5
  }
}
```

### é«˜çº§é…ç½®
```json
{
  "system": {
    "resource_monitoring": {
      "enabled": true,
      "cpu_threshold": 80,
      "memory_threshold": 85,
      "check_interval": 30
    },
    "backup_data_sources": {
      "enabled": true,
      "fallback_apis": ["coingecko", "coinmarketcap"],
      "failover_delay": 5
    }
  },
  "monitoring": {
    "telegram_enabled": true,
    "alert_thresholds": {
      "cpu_usage": 80,
      "memory_usage": 85,
      "error_rate": 0.05
    }
  }
}
```

## ğŸ§ª æµ‹è¯•ä¸éªŒè¯

### å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
python -m pytest tests/test_enhanced_pattern_detector.py -v

# è¿è¡Œè¦†ç›–ç‡æµ‹è¯•
python -m pytest tests/ --cov=core --cov-report=html
```

### æ€§èƒ½æµ‹è¯•
```bash
# è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
python tests/benchmark/test_performance.py

# å†…å­˜ä½¿ç”¨æµ‹è¯•
python tests/benchmark/test_memory_usage.py
```

### å›æµ‹éªŒè¯
```bash
# å®Œæ•´å›æµ‹
python scripts/backtest.py --config config/backtest_config.json

# å¤šå“ç§å›æµ‹
python scripts/batch_backtest.py --symbols BTCUSDT,ETHUSDT,BNBUSDT
```

## ğŸ“Š ç›‘æ§ä¸æŠ¥å‘Š

### å®æ—¶ç›‘æ§
- **ç³»ç»ŸçŠ¶æ€**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡
- **äº¤æ˜“ç»Ÿè®¡**: è®¢å•æ•°é‡ã€æˆåŠŸç‡ã€ç›ˆäºæƒ…å†µ
- **é£é™©æŒ‡æ ‡**: æœ€å¤§å›æ’¤ã€VaRã€å¤æ™®æ¯”ç‡

### æŠ¥å‘Šç”Ÿæˆ
```bash
# ç”Ÿæˆæ¯æ—¥æŠ¥å‘Š
python scripts/generate_report.py --date 2024-01-01

# ç”Ÿæˆæ€§èƒ½åˆ†ææŠ¥å‘Š
python scripts/performance_report.py --period 30d
```

## ğŸ” å®‰å…¨è€ƒè™‘

### APIå¯†é’¥ç®¡ç†
- ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- æ”¯æŒå¯†é’¥è½®æ¢å’Œæƒé™æ§åˆ¶
- å»ºè®®ä½¿ç”¨åªè¯»APIå¯†é’¥è¿›è¡Œæ•°æ®è·å–

### é£é™©æ§åˆ¶
- å¤šå±‚é£é™©æ£€æŸ¥æœºåˆ¶
- ç´§æ€¥æ­¢æŸå’Œç†”æ–­æœºåˆ¶
- å®æ—¶èµ„æºç›‘æ§å’Œè‡ªåŠ¨æš‚åœ

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. **Forké¡¹ç›®**å¹¶åˆ›å»ºç‰¹æ€§åˆ†æ”¯
2. **ç¼–å†™æµ‹è¯•**ç¡®ä¿ä»£ç è´¨é‡
3. **éµå¾ªä»£ç è§„èŒƒ**ä½¿ç”¨blackæ ¼å¼åŒ–
4. **æäº¤PR**å¹¶è¯¦ç»†è¯´æ˜æ”¹åŠ¨

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ æ”¯æŒä¸è”ç³»

- **é—®é¢˜æŠ¥å‘Š**: [GitHub Issues](https://github.com/your-repo/trading-system/issues)
- **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/your-repo/trading-system/discussions)
- **æŠ€æœ¯æ”¯æŒ**: support@yourcompany.com

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œå¼€æºç¤¾åŒºå¯¹æœ¬é¡¹ç›®çš„æ”¯æŒï¼

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼ 