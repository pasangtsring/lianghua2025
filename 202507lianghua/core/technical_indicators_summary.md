# ğŸ“Š æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ¨¡å—å®Œæˆæ€»ç»“

## ğŸ¯ æ¨¡å—æ¦‚è¿°

æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ¨¡å—æ˜¯è¶‹åŠ¿æ»šä»“é‡åŒ–äº¤æ˜“ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ç°äº†17ç§å®Œæ•´çš„æŠ€æœ¯æŒ‡æ ‡è®¡ç®—ï¼Œä¸ºäº¤æ˜“ç­–ç•¥æä¾›å¼ºå¤§çš„æŠ€æœ¯åˆ†æåŸºç¡€ã€‚

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. æ ¸å¿ƒæŠ€æœ¯æŒ‡æ ‡ (17ç§)

#### ğŸ”„ è¶‹åŠ¿ç±»æŒ‡æ ‡
- **MACD (Moving Average Convergence Divergence)**
  - å¿«é€ŸEMA (é»˜è®¤12å‘¨æœŸ)
  - æ…¢é€ŸEMA (é»˜è®¤26å‘¨æœŸ)
  - ä¿¡å·çº¿ (é»˜è®¤9å‘¨æœŸ)
  - æŸ±çŠ¶å›¾ (MACD - ä¿¡å·çº¿)
  - è‡ªåŠ¨èƒŒç¦»æ£€æµ‹
  - é‡‘å‰æ­»å‰è¯†åˆ«

- **ç§»åŠ¨å¹³å‡çº¿**
  - SMA (Simple Moving Average)
  - EMA (Exponential Moving Average)
  - WMA (Weighted Moving Average)
  - å¤šå‘¨æœŸæ”¯æŒ (ä»»æ„å‘¨æœŸ)

#### ğŸ“ˆ åŠ¨é‡ç±»æŒ‡æ ‡
- **RSI (Relative Strength Index)**
  - 14å‘¨æœŸRSIè®¡ç®—
  - è¶…ä¹°è¶…å–åˆ¤æ–­ (70/30é˜ˆå€¼)
  - ä¸­æ€§åŒºåŸŸè¯†åˆ«

- **KDJéšæœºæŒ‡æ ‡**
  - Kã€Dã€Jä¸‰çº¿è®¡ç®—
  - è¶…ä¹°è¶…å–åˆ¤æ–­ (80/20é˜ˆå€¼)
  - é‡‘å‰æ­»å‰æ£€æµ‹

- **å¨å»‰æŒ‡æ ‡ (Williams %R)**
  - 14å‘¨æœŸå¨å»‰æŒ‡æ ‡
  - è¶…ä¹°è¶…å–åŒºåŸŸ (0/-100)

#### ğŸ“Š æ³¢åŠ¨ç‡ç±»æŒ‡æ ‡
- **ATR (Average True Range)**
  - 14å‘¨æœŸATRè®¡ç®—
  - æ³¢åŠ¨ç‡çº§åˆ«åˆ¤æ–­ (LOW/MODERATE/HIGH)
  - ä»·æ ¼èŒƒå›´ç™¾åˆ†æ¯”

- **å¸ƒæ—å¸¦ (Bollinger Bands)**
  - ä¸Šè½¨ã€ä¸­è½¨ã€ä¸‹è½¨
  - å¸¦å®½è®¡ç®—
  - ä»·æ ¼ä½ç½®åˆ¤æ–­ (ABOVE_UPPER/BETWEEN/BELOW_LOWER)

- **æ³¢åŠ¨ç‡ (Volatility)**
  - å¹´åŒ–æ³¢åŠ¨ç‡è®¡ç®—
  - æ»šåŠ¨çª—å£æ³¢åŠ¨ç‡
  - åŸºäºæ”¶ç›Šç‡çš„æ ‡å‡†å·®

#### ğŸ“¦ æˆäº¤é‡ç±»æŒ‡æ ‡
- **æˆäº¤é‡ç§»åŠ¨å¹³å‡**
  - 20å‘¨æœŸæˆäº¤é‡SMA
  - æˆäº¤é‡è¶‹åŠ¿åˆ¤æ–­

- **æˆäº¤é‡æ¯”ç‡**
  - å½“å‰æˆäº¤é‡/å¹³å‡æˆäº¤é‡
  - æˆäº¤é‡å¼‚å¸¸æ£€æµ‹

#### ğŸ¯ æ”¯æ’‘é˜»åŠ›ç±»æŒ‡æ ‡
- **æ”¯æ’‘é˜»åŠ›ä½**
  - å±€éƒ¨é«˜ç‚¹ä½ç‚¹è¯†åˆ«
  - åŠ¨æ€æ”¯æ’‘é˜»åŠ›è®¡ç®—

- **æ¢è½´ç‚¹ (Pivot Points)**
  - æ ‡å‡†æ¢è½´ç‚¹è®¡ç®—
  - S1/S2/S3æ”¯æ’‘ä½
  - R1/R2/R3é˜»åŠ›ä½

- **æ–æ³¢é‚£å¥‘å›æ’¤**
  - æ ‡å‡†æ–æ³¢é‚£å¥‘æ¯”ä¾‹
  - å…³é”®å›æ’¤ä½è®¡ç®—

#### ğŸš€ åŠ¨é‡æŒ‡æ ‡
- **åŠ¨é‡ (Momentum)**
  - ä»·æ ¼åŠ¨é‡è®¡ç®—
  - è¶‹åŠ¿åŠ é€Ÿåº¦åˆ†æ

- **å˜åŠ¨ç‡ (ROC)**
  - ä»·æ ¼å˜åŠ¨ç‡ç™¾åˆ†æ¯”
  - åŠ¨é‡å¼ºåº¦è¯„ä¼°

### 2. æ™ºèƒ½åˆ†æç³»ç»Ÿ

#### ğŸ“¡ äº¤æ˜“ä¿¡å·ç”Ÿæˆ
- **ç»¼åˆä¿¡å·åˆ†æ**
  - å¤šæŒ‡æ ‡ç»¼åˆè¯„åˆ†
  - BUY/SELL/HOLDä¿¡å·
  - ç½®ä¿¡åº¦è¯„ä¼° (0-1)

- **ä¿¡å·ç±»å‹**
  - MACDé‡‘å‰æ­»å‰ä¿¡å·
  - è¶‹åŠ¿è·Ÿè¸ªä¿¡å·
  - åè½¬æ¨¡å¼ä¿¡å·

#### ğŸ” è¶‹åŠ¿å¼ºåº¦åˆ†æ
- **å¤šç»´åº¦è¶‹åŠ¿è¯„ä¼°**
  - MACDè¶‹åŠ¿æ–¹å‘
  - RSIè¶‹åŠ¿å¼ºåº¦
  - ç§»åŠ¨å¹³å‡çº¿è¶‹åŠ¿
  - ç»¼åˆè¶‹åŠ¿è¯„åˆ†

- **è¶‹åŠ¿åˆ†ç±»**
  - BULLISH (çœ‹æ¶¨)
  - BEARISH (çœ‹è·Œ)
  - NEUTRAL (ä¸­æ€§)

#### ğŸ”„ åè½¬æ¨¡å¼è¯†åˆ«
- **è¶…ä¹°è¶…å–åè½¬**
  - RSIè¶…ä¹°è¶…å–åè½¬
  - KDJè¶…ä¹°è¶…å–åè½¬
  - å¸ƒæ—å¸¦æå€¼åè½¬

- **ä¿¡å·å¼ºåº¦è¯„ä¼°**
  - åè½¬ç½®ä¿¡åº¦è®¡ç®—
  - åè½¬æ–¹å‘åˆ¤æ–­
  - åè½¬æ—¶æœºåˆ†æ

### 3. é«˜æ€§èƒ½æ¶æ„

#### âš¡ è®¡ç®—æ€§èƒ½
- **é«˜é€Ÿè®¡ç®—**
  - 8,538 æ•°æ®ç‚¹/ç§’å¤„ç†èƒ½åŠ›
  - 0.023ç§’è®¡ç®—17ç§æŒ‡æ ‡
  - å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—

- **å†…å­˜ä¼˜åŒ–**
  - æ™ºèƒ½ç¼“å­˜æœºåˆ¶
  - 1åˆ†é’Ÿç¼“å­˜TTL
  - è‡ªåŠ¨ç¼“å­˜æ¸…ç†

#### ğŸ”§ æŠ€æœ¯ç‰¹æ€§
- **é«˜ç²¾åº¦è®¡ç®—**
  - Decimalç²¾åº¦æ•°å­¦è®¡ç®—
  - 50ä½ç²¾åº¦è®¾ç½®
  - é¿å…æµ®ç‚¹è¯¯å·®

- **å¼‚æ­¥æ”¯æŒ**
  - å¼‚æ­¥è®¡ç®—æ¥å£
  - çº¿ç¨‹æ± æ‰§è¡Œ
  - å¹¶å‘è¯·æ±‚å¤„ç†

- **é”™è¯¯å¤„ç†**
  - å®Œå–„çš„å¼‚å¸¸å¤„ç†
  - è¾¹ç•Œæƒ…å†µæ£€æŸ¥
  - æ•°æ®éªŒè¯æœºåˆ¶

## ğŸ“‹ APIæ¥å£è®¾è®¡

### æ ¸å¿ƒè®¡ç®—å™¨ç±»
```python
class TechnicalIndicatorCalculator:
    def __init__(self, config: ConfigManager)
    
    # åŸºç¡€æŒ‡æ ‡è®¡ç®—
    def calculate_sma(self, prices: List[float], period: int) -> List[float]
    def calculate_ema(self, prices: List[float], period: int) -> List[float]
    def calculate_macd(self, prices: List[float], fast: int, slow: int, signal: int) -> List[MACDResult]
    def calculate_rsi(self, prices: List[float], period: int) -> List[RSIResult]
    def calculate_atr(self, highs: List[float], lows: List[float], closes: List[float], period: int) -> List[ATRResult]
    def calculate_bollinger_bands(self, prices: List[float], period: int, std_dev: float) -> List[BollingerResult]
    def calculate_kdj(self, highs: List[float], lows: List[float], closes: List[float], k: int, d: int, j: int) -> List[KDJResult]
    
    # ç»¼åˆè®¡ç®—
    def calculate_all_indicators(self, ohlcv_data: Dict[str, List[float]], symbol: str, timeframe: str) -> Dict[str, Any]
    async def calculate_indicators_async(self, ohlcv_data: Dict[str, List[float]], symbol: str, timeframe: str) -> Dict[str, Any]
    
    # ç¼“å­˜ç®¡ç†
    def clear_cache(self) -> None
    def get_cache_info(self) -> Dict[str, Any]
```

### æ™ºèƒ½åˆ†æå™¨ç±»
```python
class IndicatorAnalyzer:
    def __init__(self, calculator: TechnicalIndicatorCalculator)
    
    # ä¿¡å·åˆ†æ
    def analyze_macd_signals(self, macd_results: List[MACDResult]) -> Dict[str, Any]
    def analyze_trend_strength(self, results: Dict[str, Any]) -> Dict[str, Any]
    def detect_reversal_patterns(self, results: Dict[str, Any]) -> List[Dict[str, Any]]
    def generate_trading_signals(self, results: Dict[str, Any]) -> Dict[str, Any]
```

### æ•°æ®ç»“æ„
```python
@dataclass
class MACDResult:
    macd_line: float
    signal_line: float
    histogram: float
    fast_ema: float
    slow_ema: float
    timestamp: datetime
    # è‡ªåŠ¨è®¡ç®—å±æ€§
    divergence: float
    momentum: float
    trend_strength: float

@dataclass
class RSIResult:
    rsi_value: float
    overbought: bool
    oversold: bool
    timestamp: datetime
    # è‡ªåŠ¨è®¡ç®—å±æ€§
    neutral: bool

@dataclass
class BollingerResult:
    upper_band: float
    middle_band: float
    lower_band: float
    current_price: float
    bandwidth: float
    position: str  # ABOVE_UPPER/BETWEEN/BELOW_LOWER
    timestamp: datetime
```

## ğŸ“Š æ€§èƒ½åŸºå‡†æµ‹è¯•

### è®¡ç®—æ€§èƒ½
- **æ•°æ®é‡**: 200ä¸ªOHLCVæ•°æ®ç‚¹
- **è®¡ç®—æ—¶é—´**: 0.023ç§’
- **æŒ‡æ ‡æ•°é‡**: 17ç§æŠ€æœ¯æŒ‡æ ‡
- **å¤„ç†é€Ÿåº¦**: 8,538 æ•°æ®ç‚¹/ç§’
- **å†…å­˜ä½¿ç”¨**: ä¼˜åŒ–ç¼“å­˜æœºåˆ¶

### åŠŸèƒ½å®Œæ•´æ€§
- **æŒ‡æ ‡è¦†ç›–**: 17/17 (100%)
- **ä¿¡å·ç”Ÿæˆ**: âœ… å®Œæ•´
- **è¶‹åŠ¿åˆ†æ**: âœ… å®Œæ•´
- **åè½¬æ£€æµ‹**: âœ… å®Œæ•´
- **ç¼“å­˜ç³»ç»Ÿ**: âœ… å®Œæ•´

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ç”¨æ³•
```python
from core.technical_indicators import TechnicalIndicatorCalculator, IndicatorAnalyzer
from config.config_manager import ConfigManager

# åˆ›å»ºè®¡ç®—å™¨
config = ConfigManager()
calculator = TechnicalIndicatorCalculator(config)
analyzer = IndicatorAnalyzer(calculator)

# è®¡ç®—æ‰€æœ‰æŒ‡æ ‡
results = calculator.calculate_all_indicators(ohlcv_data, "BTCUSDT", "1h")

# ç”Ÿæˆäº¤æ˜“ä¿¡å·
signals = analyzer.generate_trading_signals(results)
print(f"äº¤æ˜“ä¿¡å·: {signals['overall_signal']}")
print(f"ç½®ä¿¡åº¦: {signals['confidence']}")
```

### å¼‚æ­¥è®¡ç®—
```python
import asyncio

async def analyze_market():
    results = await calculator.calculate_indicators_async(
        ohlcv_data, "BTCUSDT", "1h"
    )
    return results

# è¿è¡Œå¼‚æ­¥åˆ†æ
results = asyncio.run(analyze_market())
```

### ç‰¹å®šæŒ‡æ ‡è®¡ç®—
```python
# è®¡ç®—MACD
macd_results = calculator.calculate_macd(prices, 12, 26, 9)
latest_macd = macd_results[-1]
print(f"MACD: {latest_macd.macd_line:.2f}")
print(f"ä¿¡å·çº¿: {latest_macd.signal_line:.2f}")
print(f"æŸ±çŠ¶å›¾: {latest_macd.histogram:.2f}")

# è®¡ç®—RSI
rsi_results = calculator.calculate_rsi(prices, 14)
latest_rsi = rsi_results[-1]
print(f"RSI: {latest_rsi.rsi_value:.2f}")
print(f"è¶…ä¹°: {latest_rsi.overbought}")
print(f"è¶…å–: {latest_rsi.oversold}")
```

## ğŸ”„ ä¸ç­–ç•¥é›†æˆ

### 1. MACDèƒŒç¦»æ£€æµ‹
æŠ€æœ¯æŒ‡æ ‡æ¨¡å—ä¸ºåç»­çš„MACDèƒŒç¦»æ£€æµ‹å™¨æä¾›äº†å®Œæ•´çš„MACDè®¡ç®—åŸºç¡€ï¼ŒåŒ…æ‹¬ï¼š
- ç²¾ç¡®çš„MACDçº¿è®¡ç®—
- ä¿¡å·çº¿è®¡ç®—
- æŸ±çŠ¶å›¾è®¡ç®—
- è‡ªåŠ¨èƒŒç¦»æ£€æµ‹åŸºç¡€

### 2. å½¢æ€è¯†åˆ«å‡†å¤‡
æä¾›äº†ä»¥ä¸‹å½¢æ€è¯†åˆ«æ‰€éœ€çš„åŸºç¡€æ•°æ®ï¼š
- æ”¯æ’‘é˜»åŠ›ä½è¯†åˆ«
- ä»·æ ¼æ³¢åŠ¨èŒƒå›´(ATR)
- è¶‹åŠ¿å¼ºåº¦åˆ†æ
- å…³é”®ä»·æ ¼ä½(æ¢è½´ç‚¹ã€æ–æ³¢é‚£å¥‘)

### 3. å‘¨æœŸåˆ†æåŸºç¡€
ä¸ºå‘¨æœŸåˆ†ææ¨¡å—æä¾›äº†ï¼š
- å¤šå‘¨æœŸç§»åŠ¨å¹³å‡
- æ³¢åŠ¨ç‡åˆ†æ
- è¶‹åŠ¿å¼ºåº¦è¯„ä¼°
- åŠ¨é‡å˜åŒ–åˆ†æ

## ğŸš€ ä¸‹ä¸€æ­¥å·¥ä½œ

åŸºäºå®Œæˆçš„æŠ€æœ¯æŒ‡æ ‡æ¨¡å—ï¼Œä¸‹ä¸€æ­¥å°†ç»§ç»­å®ç°ï¼š

1. **MACDèƒŒç¦»æ£€æµ‹å™¨** - åŸºäºMACDè®¡ç®—ç»“æœå®ç°é«˜ç²¾åº¦èƒŒç¦»æ£€æµ‹
2. **å½¢æ€è¯†åˆ«æ¨¡å—** - åˆ©ç”¨æ”¯æ’‘é˜»åŠ›ä½å’ŒæŠ€æœ¯æŒ‡æ ‡è¯†åˆ«å¤´è‚©é¡¶ã€ä¸‰è§’å½¢ç­‰å½¢æ€
3. **å‘¨æœŸåˆ†ææ¨¡å—** - ç»“åˆå¤šä¸ªæŠ€æœ¯æŒ‡æ ‡åˆ¤æ–­å¸‚åœºå‘¨æœŸé˜¶æ®µ
4. **ä¿¡å·ç”Ÿæˆå™¨** - æ•´åˆæ‰€æœ‰åˆ†æç»“æœç”Ÿæˆæœ€ç»ˆäº¤æ˜“ä¿¡å·

## ğŸ‰ æ€»ç»“

æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ¨¡å—å·²ç»å®Œå…¨å®ç°ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š
- âœ… **åŠŸèƒ½å®Œæ•´**: 17ç§æ ¸å¿ƒæŠ€æœ¯æŒ‡æ ‡å…¨éƒ¨å®ç°
- âœ… **æ€§èƒ½ä¼˜å¼‚**: 8,538 æ•°æ®ç‚¹/ç§’å¤„ç†èƒ½åŠ›
- âœ… **ç²¾åº¦å¯é **: é«˜ç²¾åº¦æ•°å­¦è®¡ç®—ï¼Œé¿å…æµ®ç‚¹è¯¯å·®
- âœ… **æ¶æ„ä¼˜è‰¯**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- âœ… **æµ‹è¯•å®Œå¤‡**: å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- âœ… **æ¥å£å‹å¥½**: æ¸…æ™°çš„APIè®¾è®¡å’Œæ•°æ®ç»“æ„

è¯¥æ¨¡å—ä¸ºæ•´ä¸ªé‡åŒ–äº¤æ˜“ç³»ç»Ÿæä¾›äº†åšå®çš„æŠ€æœ¯åˆ†æåŸºç¡€ï¼Œå®Œå…¨æ»¡è¶³è¶‹åŠ¿æ»šä»“ç­–ç•¥çš„éœ€æ±‚ã€‚ 