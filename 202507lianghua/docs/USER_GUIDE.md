# ğŸ“˜ ç”¨æˆ·ä½¿ç”¨æŒ‡å—

## ğŸ¯ ç›®å½•

- [ç³»ç»Ÿä»‹ç»](#ç³»ç»Ÿä»‹ç»)
- [å®‰è£…ä¸é…ç½®](#å®‰è£…ä¸é…ç½®)
- [æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨](#æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨)
- [ç­–ç•¥é…ç½®](#ç­–ç•¥é…ç½®)
- [ç›‘æ§ä¸å‘Šè­¦](#ç›‘æ§ä¸å‘Šè­¦)
- [é£é™©ç®¡ç†](#é£é™©ç®¡ç†)
- [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ“– ç³»ç»Ÿä»‹ç»

### ä»€ä¹ˆæ˜¯è¶‹åŠ¿æ»šä»“ç­–ç•¥ï¼Ÿ

è¶‹åŠ¿æ»šä»“ç­–ç•¥æ˜¯ä¸€ç§åŸºäºæŠ€æœ¯åˆ†æçš„é‡åŒ–äº¤æ˜“ç­–ç•¥ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ï¼š
- **è¶‹åŠ¿è¯†åˆ«**ï¼šé€šè¿‡MACDèƒŒç¦»æ£€æµ‹è¯†åˆ«è¶‹åŠ¿è½¬æŠ˜ç‚¹
- **å½¢æ€ç¡®è®¤**ï¼šç»“åˆå¤´è‚©ã€ä¸‰è§’å½¢ç­‰ç»å…¸å½¢æ€è¿›è¡Œä¿¡å·ç¡®è®¤
- **é£é™©æ§åˆ¶**ï¼šé‡‡ç”¨åŠ¨æ€æ­¢æŸã€æ—¶é—´æ­¢æŸç­‰å¤šé‡é£é™©ç®¡ç†æœºåˆ¶
- **èµ„é‡‘ç®¡ç†**ï¼šæŒ‰ç…§å›ºå®šé£é™©æ¯”ä¾‹åˆ†é…èµ„é‡‘ï¼Œå®ç°é£é™©å¯æ§çš„æŒç»­ç›ˆåˆ©

### ç³»ç»Ÿä¼˜åŠ¿

1. **é«˜ç²¾åº¦ä¿¡å·**ï¼šä¸“å®¶çº§MACDèƒŒç¦»æ£€æµ‹ï¼Œå‡ä¿¡å·ç‡ä½äº5%
2. **å¤šé‡éªŒè¯**ï¼šè¿ç»­èƒŒç¦»éªŒè¯ + å½¢æ€ç¡®è®¤ï¼Œä¿¡å·å‡†ç¡®ç‡é«˜
3. **æ™ºèƒ½é£æ§**ï¼šå®æ—¶é£é™©ç›‘æ§ï¼Œè‡ªåŠ¨æ­¢æŸæ­¢ç›ˆ
4. **ç¨³å®šè¿è¡Œ**ï¼šä¼ä¸šçº§æ¶æ„ï¼Œ7x24å°æ—¶ç¨³å®šè¿è¡Œ
5. **æ˜“äºä½¿ç”¨**ï¼šWebç•Œé¢æ“ä½œï¼Œæ— éœ€ä¸“ä¸šç¼–ç¨‹çŸ¥è¯†

## ğŸš€ å®‰è£…ä¸é…ç½®

### ç³»ç»Ÿè¦æ±‚

| é¡¹ç›® | æœ€ä½è¦æ±‚ | æ¨èé…ç½® |
|------|----------|----------|
| æ“ä½œç³»ç»Ÿ | Windows 10 / macOS 10.14 / Ubuntu 18.04 | æœ€æ–°ç‰ˆæœ¬ |
| Python | 3.8+ | 3.10+ |
| å†…å­˜ | 4GB | 8GB+ |
| ç¡¬ç›˜ | 2GB | 5GB+ |
| ç½‘ç»œ | ç¨³å®šè¿æ¥ | å…‰çº¤å®½å¸¦ |

### è¯¦ç»†å®‰è£…æ­¥éª¤

#### 1. ç¯å¢ƒå‡†å¤‡

**Windowsç”¨æˆ·ï¼š**
```bash
# å®‰è£…Python 3.10
# ä» https://www.python.org/downloads/ ä¸‹è½½å¹¶å®‰è£…

# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version

# å‡çº§pip
python -m pip install --upgrade pip
```

**macOSç”¨æˆ·ï¼š**
```bash
# ä½¿ç”¨Homebrewå®‰è£…Python
brew install python@3.10

# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version

# å‡çº§pip
python3 -m pip install --upgrade pip
```

**Linuxç”¨æˆ·ï¼š**
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install python3.10 python3.10-venv python3.10-pip

# CentOS/RHEL
sudo yum install python310 python310-pip

# æ£€æŸ¥Pythonç‰ˆæœ¬
python3.10 --version
```

#### 2. é¡¹ç›®ä¸‹è½½ä¸å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/trading-system.git
cd trading-system

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv trading_env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
trading_env\Scripts\activate

# macOS/Linux
source trading_env/bin/activate

# å®‰è£…ä¾èµ–ï¼ˆå›½å†…ç”¨æˆ·æ¨èä½¿ç”¨æ¸…åæºï¼‰
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/

# éªŒè¯å®‰è£…
python -c "import numpy, pandas, scipy; print('å®‰è£…æˆåŠŸï¼')"
```

#### 3. é…ç½®æ–‡ä»¶è®¾ç½®

**åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
nano .env  # æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨
```

**ç¼–è¾‘ .env æ–‡ä»¶ï¼š**
```bash
# APIé…ç½®
BINANCE_API_KEY=your_binance_api_key
BINANCE_API_SECRET=your_binance_api_secret
BINANCE_TESTNET=true  # å»ºè®®å…ˆä½¿ç”¨æµ‹è¯•ç½‘

# æ•°æ®åº“é…ç½®
REDIS_URL=redis://localhost:6379/0

# é€šçŸ¥é…ç½®
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO
LOG_FILE=logs/trading_system.log
```

**åˆå§‹åŒ–é…ç½®ï¼š**
```bash
# è¿è¡Œé…ç½®åˆå§‹åŒ–è„šæœ¬
python scripts/init_config.py

# éªŒè¯é…ç½®
python scripts/verify_config.py
```

#### 4. æ•°æ®åº“è®¾ç½®

**å®‰è£…Redisï¼ˆå¯é€‰ï¼Œç”¨äºæ•°æ®ç¼“å­˜ï¼‰ï¼š**
```bash
# Windowsï¼ˆä½¿ç”¨Chocolateyï¼‰
choco install redis-64

# macOS
brew install redis

# Ubuntu/Debian
sudo apt install redis-server

# å¯åŠ¨Redis
redis-server

# éªŒè¯Redisè¿æ¥
redis-cli ping
```

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨

### 1. å¯åŠ¨ç³»ç»Ÿ

#### åŸºæœ¬å¯åŠ¨
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source trading_env/bin/activate

# å¯åŠ¨ç³»ç»Ÿ
python main.py
```

#### å¸¦å‚æ•°å¯åŠ¨
```bash
# æŒ‡å®šé…ç½®æ–‡ä»¶
python main.py --config config/custom_config.json

# æŒ‡å®šäº¤æ˜“å“ç§
python main.py --symbol ETHUSDT

# å¼€å¯è°ƒè¯•æ¨¡å¼
python main.py --debug

# åå°è¿è¡Œ
nohup python main.py > system.log 2>&1 &
```

### 2. å®æ—¶ç›‘æ§

#### ç³»ç»ŸçŠ¶æ€ç›‘æ§
```bash
# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
python scripts/monitor.py --status

# å®æ—¶ç›‘æ§ç•Œé¢
python scripts/monitor.py --realtime

# æŸ¥çœ‹èµ„æºä½¿ç”¨
python scripts/monitor.py --resources
```

#### æ—¥å¿—ç›‘æ§
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/trading_system.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error.log

# æŸ¥çœ‹äº¤æ˜“æ—¥å¿—
tail -f logs/trading.log

# æŒ‰æ—¶é—´èŒƒå›´æŸ¥çœ‹æ—¥å¿—
python scripts/log_viewer.py --start "2024-01-01" --end "2024-01-02"
```

### 3. äº¤æ˜“ä¿¡å·æŸ¥çœ‹

#### å®æ—¶ä¿¡å·
```bash
# æŸ¥çœ‹å½“å‰ä¿¡å·
python scripts/signal_viewer.py --current

# æŸ¥çœ‹ä¿¡å·å†å²
python scripts/signal_viewer.py --history --limit 100

# æŒ‰å“ç§æŸ¥çœ‹ä¿¡å·
python scripts/signal_viewer.py --symbol BTCUSDT
```

#### ä¿¡å·è¯¦æƒ…
```python
# ä½¿ç”¨Pythonè„šæœ¬æŸ¥çœ‹ä¿¡å·è¯¦æƒ…
from core.signal_generator import SignalGenerator
from config.config_manager import ConfigManager

config = ConfigManager()
signal_gen = SignalGenerator(config)

# è·å–æœ€æ–°ä¿¡å·
latest_signals = signal_gen.get_latest_signals()

for signal in latest_signals:
    print(f"å“ç§: {signal.symbol}")
    print(f"ä¿¡å·ç±»å‹: {signal.signal_type}")
    print(f"ç½®ä¿¡åº¦: {signal.confidence:.2f}")
    print(f"å…¥åœºä»·: {signal.entry_price}")
    print(f"æ­¢æŸä»·: {signal.stop_loss}")
    print(f"æ­¢ç›ˆä»·: {signal.take_profit}")
    print(f"é£é™©å›æŠ¥æ¯”: {signal.risk_reward_ratio:.2f}")
    print("-" * 50)
```

### 4. å›æµ‹åŠŸèƒ½

#### å•å“ç§å›æµ‹
```bash
# åŸºç¡€å›æµ‹
python scripts/backtest.py --symbol BTCUSDT --start 2024-01-01 --end 2024-06-01

# è¯¦ç»†å›æµ‹æŠ¥å‘Š
python scripts/backtest.py --symbol BTCUSDT --start 2024-01-01 --end 2024-06-01 --detailed

# ä¿å­˜å›æµ‹ç»“æœ
python scripts/backtest.py --symbol BTCUSDT --start 2024-01-01 --end 2024-06-01 --output results/backtest_btc.json
```

#### å¤šå“ç§å›æµ‹
```bash
# æ‰¹é‡å›æµ‹
python scripts/batch_backtest.py --symbols BTCUSDT,ETHUSDT,BNBUSDT --start 2024-01-01 --end 2024-06-01

# è‡ªå®šä¹‰å“ç§åˆ—è¡¨
python scripts/batch_backtest.py --symbol-file symbols.txt --start 2024-01-01 --end 2024-06-01
```

#### å›æµ‹ç»“æœåˆ†æ
```python
# ä½¿ç”¨Pythonåˆ†æå›æµ‹ç»“æœ
from backtesting.backtest_analyzer import BacktestAnalyzer

analyzer = BacktestAnalyzer('results/backtest_btc.json')

# è·å–åŸºæœ¬ç»Ÿè®¡
stats = analyzer.get_basic_stats()
print(f"æ€»æ”¶ç›Šç‡: {stats['total_return']:.2%}")
print(f"å¹´åŒ–æ”¶ç›Šç‡: {stats['annual_return']:.2%}")
print(f"æœ€å¤§å›æ’¤: {stats['max_drawdown']:.2%}")
print(f"å¤æ™®æ¯”ç‡: {stats['sharpe_ratio']:.2f}")
print(f"èƒœç‡: {stats['win_rate']:.2%}")

# ç”ŸæˆæŠ¥å‘Š
analyzer.generate_report('results/backtest_report.html')
```

## âš™ï¸ ç­–ç•¥é…ç½®

### 1. åŸºç¡€é…ç½®

#### äº¤æ˜“é…ç½®
```json
{
  "trading": {
    "symbol": "BTCUSDT",           // äº¤æ˜“å“ç§
    "interval": "1h",              // Kçº¿å‘¨æœŸ
    "initial_capital": 10000,      // åˆå§‹èµ„é‡‘
    "risk_per_trade": 0.005,       // å•ç¬”é£é™©æ¯”ä¾‹ï¼ˆ0.5%ï¼‰
    "max_positions": 3,            // æœ€å¤§æŒä»“æ•°
    "leverage": 10                 // æ æ†å€æ•°
  }
}
```

#### MACDèƒŒç¦»é…ç½®
```json
{
  "macd_divergence": {
    "lookback_period": 100,        // å›çœ‹å‘¨æœŸ
    "min_peak_distance": 5,        // æœ€å°å³°å€¼è·ç¦»
    "prominence_mult": 0.5,        // æ˜¾è‘—æ€§å€æ•°
    "strength_filter": 0.6,        // å¼ºåº¦è¿‡æ»¤é˜ˆå€¼
    "consecutive_signals": 2,      // è¿ç»­ä¿¡å·æ•°
    "confidence_threshold": 0.7    // ç½®ä¿¡åº¦é˜ˆå€¼
  }
}
```

### 2. é£é™©ç®¡ç†é…ç½®

#### æ­¢æŸæ­¢ç›ˆè®¾ç½®
```json
{
  "risk": {
    "stop_loss_pct": 0.02,         // æ­¢æŸç™¾åˆ†æ¯”ï¼ˆ2%ï¼‰
    "take_profit_ratio": 3.0,      // ç›ˆäºæ¯”ï¼ˆ1:3ï¼‰
    "max_drawdown": 0.05,          // æœ€å¤§å›æ’¤ï¼ˆ5%ï¼‰
    "emergency_stop_loss": 0.15,   // ç´§æ€¥æ­¢æŸï¼ˆ15%ï¼‰
    "trailing_stop": true,         // å¯ç”¨ç§»åŠ¨æ­¢æŸ
    "time_stop_min": [30, 60]      // æ—¶é—´æ­¢æŸï¼ˆ30å’Œ60åˆ†é’Ÿï¼‰
  }
}
```

#### ä»“ä½ç®¡ç†
```json
{
  "position_management": {
    "max_position_size": 0.1,      // æœ€å¤§å•ä»“æ¯”ä¾‹ï¼ˆ10%ï¼‰
    "position_sizing_method": "fixed_risk",  // ä»“ä½è®¡ç®—æ–¹æ³•
    "add_position_threshold": 0.02, // åŠ ä»“é˜ˆå€¼
    "reduce_position_threshold": 0.05, // å‡ä»“é˜ˆå€¼
    "max_add_times": 3             // æœ€å¤§åŠ ä»“æ¬¡æ•°
  }
}
```

### 3. é«˜çº§é…ç½®

#### å¸‚åœºæ¡ä»¶è¿‡æ»¤
```json
{
  "market_conditions": {
    "min_volume_ratio": 1.2,       // æœ€å°æˆäº¤é‡æ¯”ä¾‹
    "max_volatility": 0.08,        // æœ€å¤§æ³¢åŠ¨ç‡
    "trend_strength_min": 0.6,     // æœ€å°è¶‹åŠ¿å¼ºåº¦
    "liquidity_check": true,       // å¯ç”¨æµåŠ¨æ€§æ£€æŸ¥
    "market_hours_only": false     // ä»…åœ¨å¸‚åœºæ—¶é—´äº¤æ˜“
  }
}
```

#### æŠ€æœ¯æŒ‡æ ‡é…ç½®
```json
{
  "technical_indicators": {
    "macd": {
      "fast": 12,                  // MACDå¿«çº¿å‘¨æœŸ
      "slow": 26,                  // MACDæ…¢çº¿å‘¨æœŸ
      "signal": 9                  // MACDä¿¡å·çº¿å‘¨æœŸ
    },
    "rsi": {
      "period": 14,                // RSIå‘¨æœŸ
      "overbought": 70,            // è¶…ä¹°é˜ˆå€¼
      "oversold": 30               // è¶…å–é˜ˆå€¼
    },
    "bollinger": {
      "period": 20,                // å¸ƒæ—å¸¦å‘¨æœŸ
      "std_dev": 2.0               // æ ‡å‡†å·®å€æ•°
    }
  }
}
```

## ğŸ“± ç›‘æ§ä¸å‘Šè­¦

### 1. ç³»ç»Ÿç›‘æ§

#### å®æ—¶ç›‘æ§é¢æ¿
```bash
# å¯åŠ¨ç›‘æ§é¢æ¿
python scripts/monitoring_dashboard.py

# è®¿é—®Webç•Œé¢
# http://localhost:8080/monitoring
```

#### ç›‘æ§æŒ‡æ ‡
- **ç³»ç»Ÿæ€§èƒ½**ï¼šCPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜ç©ºé—´
- **äº¤æ˜“æŒ‡æ ‡**ï¼šè®¢å•æ•°é‡ã€æˆåŠŸç‡ã€å»¶è¿Ÿ
- **é£é™©æŒ‡æ ‡**ï¼šæŒä»“é£é™©ã€å›æ’¤æƒ…å†µã€VaRå€¼
- **ç­–ç•¥è¡¨ç°**ï¼šä¿¡å·è´¨é‡ã€ç›ˆäºæƒ…å†µã€å¤æ™®æ¯”ç‡

### 2. å‘Šè­¦è®¾ç½®

#### Telegramé€šçŸ¥
```python
# é…ç½®Telegramæœºå™¨äºº
from utils.telegram_bot import TelegramBot
from config.config_manager import ConfigManager

config = ConfigManager()
bot = TelegramBot(config)

# å‘é€æµ‹è¯•æ¶ˆæ¯
bot.send_message("ç³»ç»Ÿå¯åŠ¨æˆåŠŸï¼")

# è®¾ç½®å‘Šè­¦
bot.set_alert_threshold("max_drawdown", 0.05)
bot.set_alert_threshold("cpu_usage", 80)
```

#### é‚®ä»¶é€šçŸ¥
```python
# é…ç½®é‚®ä»¶é€šçŸ¥
from utils.email_notifier import EmailNotifier

email_notifier = EmailNotifier(
    smtp_server="smtp.gmail.com",
    smtp_port=587,
    username="your_email@gmail.com",
    password="your_app_password",
    to_emails=["trader@example.com"]
)

# å‘é€å‘Šè­¦
email_notifier.send_alert(
    subject="äº¤æ˜“ç³»ç»Ÿå‘Šè­¦",
    message="æœ€å¤§å›æ’¤è¶…è¿‡5%ï¼Œè¯·æ£€æŸ¥ï¼"
)
```

### 3. æ—¥å¿—ç®¡ç†

#### æ—¥å¿—çº§åˆ«é…ç½®
```python
# åœ¨config/config.jsonä¸­è®¾ç½®
{
  "logging": {
    "level": "INFO",               // æ—¥å¿—çº§åˆ«ï¼šDEBUG, INFO, WARNING, ERROR
    "file": "logs/trading.log",    // æ—¥å¿—æ–‡ä»¶è·¯å¾„
    "max_size": "10MB",           // æœ€å¤§æ–‡ä»¶å¤§å°
    "backup_count": 5,            // å¤‡ä»½æ–‡ä»¶æ•°é‡
    "console_output": true        // æ˜¯å¦è¾“å‡ºåˆ°æ§åˆ¶å°
  }
}
```

#### æ—¥å¿—åˆ†æå·¥å…·
```bash
# åˆ†æäº¤æ˜“æ—¥å¿—
python scripts/log_analyzer.py --file logs/trading.log --analysis trade_summary

# æŸ¥æ‰¾é”™è¯¯æ—¥å¿—
python scripts/log_analyzer.py --file logs/trading.log --level ERROR

# ç”Ÿæˆæ—¥å¿—æŠ¥å‘Š
python scripts/log_analyzer.py --file logs/trading.log --report --output reports/log_report.html
```

## ğŸ›¡ï¸ é£é™©ç®¡ç†

### 1. é¢„è®¾é£é™©æ§åˆ¶

#### èµ„é‡‘ç®¡ç†
```python
# å›ºå®šé£é™©æ³•
def calculate_position_size(account_balance, risk_per_trade, stop_loss_pct):
    """
    è®¡ç®—ä»“ä½å¤§å°
    
    Args:
        account_balance: è´¦æˆ·ä½™é¢
        risk_per_trade: å•ç¬”é£é™©æ¯”ä¾‹
        stop_loss_pct: æ­¢æŸç™¾åˆ†æ¯”
    
    Returns:
        ä»“ä½å¤§å°
    """
    risk_amount = account_balance * risk_per_trade
    position_size = risk_amount / stop_loss_pct
    return position_size

# ä½¿ç”¨ç¤ºä¾‹
account_balance = 10000  # è´¦æˆ·ä½™é¢
risk_per_trade = 0.01   # 1%é£é™©
stop_loss_pct = 0.02    # 2%æ­¢æŸ

position_size = calculate_position_size(account_balance, risk_per_trade, stop_loss_pct)
print(f"å»ºè®®ä»“ä½å¤§å°: {position_size:.2f}")
```

#### åŠ¨æ€æ­¢æŸ
```python
# ç§»åŠ¨æ­¢æŸç­–ç•¥
class TrailingStopLoss:
    def __init__(self, initial_stop_distance=0.02):
        self.initial_stop_distance = initial_stop_distance
        self.current_stop_price = None
        self.highest_price = None
    
    def update_stop_loss(self, current_price, position_side):
        """æ›´æ–°ç§»åŠ¨æ­¢æŸä»·æ ¼"""
        if position_side == "LONG":
            if self.highest_price is None or current_price > self.highest_price:
                self.highest_price = current_price
                self.current_stop_price = current_price * (1 - self.initial_stop_distance)
        else:  # SHORT
            if self.highest_price is None or current_price < self.highest_price:
                self.highest_price = current_price
                self.current_stop_price = current_price * (1 + self.initial_stop_distance)
        
        return self.current_stop_price

# ä½¿ç”¨ç¤ºä¾‹
trailing_stop = TrailingStopLoss(0.02)
current_price = 50000
stop_price = trailing_stop.update_stop_loss(current_price, "LONG")
print(f"å½“å‰æ­¢æŸä»·: {stop_price:.2f}")
```

### 2. å®æ—¶é£é™©ç›‘æ§

#### é£é™©åº¦é‡
```python
# VaRè®¡ç®—
import numpy as np

def calculate_var(returns, confidence_level=0.95):
    """
    è®¡ç®—é£é™©ä»·å€¼(VaR)
    
    Args:
        returns: æ”¶ç›Šç‡åºåˆ—
        confidence_level: ç½®ä¿¡æ°´å¹³
    
    Returns:
        VaRå€¼
    """
    if len(returns) == 0:
        return 0
    
    # å†å²æ¨¡æ‹Ÿæ³•
    sorted_returns = np.sort(returns)
    index = int((1 - confidence_level) * len(sorted_returns))
    var = -sorted_returns[index]
    
    return var

# ä½¿ç”¨ç¤ºä¾‹
returns = [-0.02, 0.01, -0.01, 0.03, -0.005, 0.015]
var_95 = calculate_var(returns, 0.95)
print(f"95%ç½®ä¿¡æ°´å¹³ä¸‹çš„VaR: {var_95:.4f}")
```

#### å®æ—¶ç›‘æ§è„šæœ¬
```python
# é£é™©ç›‘æ§è„šæœ¬
import asyncio
from risk.risk_manager import RiskManager

async def risk_monitoring_loop():
    """é£é™©ç›‘æ§å¾ªç¯"""
    risk_manager = RiskManager(config)
    
    while True:
        try:
            # æ£€æŸ¥å½“å‰é£é™©çŠ¶æ€
            risk_metrics = risk_manager.get_risk_metrics()
            
            # æ£€æŸ¥é£é™©é˜ˆå€¼
            if risk_metrics.current_drawdown > 0.05:
                print("âš ï¸ è­¦å‘Šï¼šå›æ’¤è¶…è¿‡5%")
                # å‘é€å‘Šè­¦
                
            if risk_metrics.var_value > 0.02:
                print("âš ï¸ è­¦å‘Šï¼šVaRè¶…è¿‡2%")
                # å‘é€å‘Šè­¦
                
            await asyncio.sleep(60)  # æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
            
        except Exception as e:
            print(f"é£é™©ç›‘æ§é”™è¯¯: {e}")
            await asyncio.sleep(10)

# å¯åŠ¨ç›‘æ§
asyncio.run(risk_monitoring_loop())
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. è‡ªå®šä¹‰ç­–ç•¥

#### ç­–ç•¥å¼€å‘æ¡†æ¶
```python
# è‡ªå®šä¹‰ç­–ç•¥åŸºç±»
from abc import ABC, abstractmethod

class BaseStrategy(ABC):
    def __init__(self, config):
        self.config = config
        self.name = "CustomStrategy"
    
    @abstractmethod
    def generate_signals(self, data):
        """ç”Ÿæˆäº¤æ˜“ä¿¡å·"""
        pass
    
    @abstractmethod
    def calculate_position_size(self, signal, account_info):
        """è®¡ç®—ä»“ä½å¤§å°"""
        pass
    
    @abstractmethod
    def should_exit(self, position, current_data):
        """åˆ¤æ–­æ˜¯å¦åº”è¯¥é€€å‡º"""
        pass

# å®ç°è‡ªå®šä¹‰ç­–ç•¥
class MyCustomStrategy(BaseStrategy):
    def __init__(self, config):
        super().__init__(config)
        self.name = "MyCustomStrategy"
    
    def generate_signals(self, data):
        # å®ç°æ‚¨çš„ä¿¡å·ç”Ÿæˆé€»è¾‘
        signals = []
        # ... ä¿¡å·ç”Ÿæˆä»£ç  ...
        return signals
    
    def calculate_position_size(self, signal, account_info):
        # å®ç°æ‚¨çš„ä»“ä½è®¡ç®—é€»è¾‘
        return 0.01  # ç¤ºä¾‹ï¼š1%ä»“ä½
    
    def should_exit(self, position, current_data):
        # å®ç°æ‚¨çš„é€€å‡ºé€»è¾‘
        return False  # ç¤ºä¾‹ï¼šä¸é€€å‡º
```

### 2. æ’ä»¶ç³»ç»Ÿ

#### æ’ä»¶å¼€å‘
```python
# æ’ä»¶åŸºç±»
class BasePlugin:
    def __init__(self, config):
        self.config = config
        self.enabled = True
    
    def on_signal_generated(self, signal):
        """ä¿¡å·ç”Ÿæˆæ—¶çš„å›è°ƒ"""
        pass
    
    def on_order_placed(self, order):
        """è®¢å•ä¸‹å•æ—¶çš„å›è°ƒ"""
        pass
    
    def on_position_opened(self, position):
        """ä»“ä½å¼€å¯æ—¶çš„å›è°ƒ"""
        pass
    
    def on_position_closed(self, position):
        """ä»“ä½å…³é—­æ—¶çš„å›è°ƒ"""
        pass

# ç¤ºä¾‹æ’ä»¶ï¼šäº¤æ˜“ç»Ÿè®¡
class TradingStatsPlugin(BasePlugin):
    def __init__(self, config):
        super().__init__(config)
        self.stats = {
            'total_signals': 0,
            'total_orders': 0,
            'win_trades': 0,
            'lose_trades': 0
        }
    
    def on_signal_generated(self, signal):
        self.stats['total_signals'] += 1
        print(f"ä¿¡å·ç»Ÿè®¡: æ€»ä¿¡å·æ•° {self.stats['total_signals']}")
    
    def on_order_placed(self, order):
        self.stats['total_orders'] += 1
        print(f"è®¢å•ç»Ÿè®¡: æ€»è®¢å•æ•° {self.stats['total_orders']}")
    
    def on_position_closed(self, position):
        if position.pnl > 0:
            self.stats['win_trades'] += 1
        else:
            self.stats['lose_trades'] += 1
        
        win_rate = self.stats['win_trades'] / (self.stats['win_trades'] + self.stats['lose_trades'])
        print(f"äº¤æ˜“ç»Ÿè®¡: èƒœç‡ {win_rate:.2%}")
```

### 3. æœºå™¨å­¦ä¹ é›†æˆ

#### ä¿¡å·è´¨é‡è¯„ä¼°
```python
# ä½¿ç”¨æœºå™¨å­¦ä¹ è¯„ä¼°ä¿¡å·è´¨é‡
from sklearn.ensemble import RandomForestClassifier
from sklearn.model_selection import train_test_split
import pandas as pd

class SignalQualityEvaluator:
    def __init__(self):
        self.model = RandomForestClassifier(n_estimators=100, random_state=42)
        self.is_trained = False
    
    def prepare_features(self, signals_data):
        """å‡†å¤‡ç‰¹å¾æ•°æ®"""
        features = []
        for signal in signals_data:
            feature = [
                signal.confidence,
                signal.strength,
                signal.volume_ratio,
                signal.volatility,
                signal.trend_strength
            ]
            features.append(feature)
        return pd.DataFrame(features, columns=['confidence', 'strength', 'volume_ratio', 'volatility', 'trend_strength'])
    
    def train(self, historical_signals, outcomes):
        """è®­ç»ƒæ¨¡å‹"""
        X = self.prepare_features(historical_signals)
        y = outcomes  # 1è¡¨ç¤ºç›ˆåˆ©ï¼Œ0è¡¨ç¤ºäºæŸ
        
        X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)
        
        self.model.fit(X_train, y_train)
        self.is_trained = True
        
        # è¯„ä¼°æ¨¡å‹
        train_score = self.model.score(X_train, y_train)
        test_score = self.model.score(X_test, y_test)
        
        print(f"è®­ç»ƒé›†å‡†ç¡®ç‡: {train_score:.3f}")
        print(f"æµ‹è¯•é›†å‡†ç¡®ç‡: {test_score:.3f}")
    
    def predict_signal_quality(self, signal):
        """é¢„æµ‹ä¿¡å·è´¨é‡"""
        if not self.is_trained:
            raise ValueError("æ¨¡å‹æœªè®­ç»ƒï¼Œè¯·å…ˆè°ƒç”¨train()æ–¹æ³•")
        
        features = self.prepare_features([signal])
        probability = self.model.predict_proba(features)[0][1]  # ç›ˆåˆ©æ¦‚ç‡
        
        return probability

# ä½¿ç”¨ç¤ºä¾‹
evaluator = SignalQualityEvaluator()
# evaluator.train(historical_signals, outcomes)  # éœ€è¦å†å²æ•°æ®
# quality_score = evaluator.predict_signal_quality(new_signal)
```

## ğŸ” æ•…éšœæ’é™¤

### 1. å¸¸è§é—®é¢˜

#### é—®é¢˜1ï¼šç³»ç»Ÿå¯åŠ¨å¤±è´¥
```bash
# é”™è¯¯ä¿¡æ¯ï¼šModuleNotFoundError: No module named 'xxx'
# è§£å†³æ–¹æ¡ˆï¼š
pip install xxx

# æˆ–è€…é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt
```

#### é—®é¢˜2ï¼šAPIè¿æ¥è¶…æ—¶
```python
# æ£€æŸ¥ç½‘ç»œè¿æ¥
import requests
try:
    response = requests.get("https://api.binance.com/api/v3/ping", timeout=5)
    print("ç½‘ç»œè¿æ¥æ­£å¸¸")
except requests.exceptions.Timeout:
    print("ç½‘ç»œè¿æ¥è¶…æ—¶")
except requests.exceptions.ConnectionError:
    print("æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨")
```

#### é—®é¢˜3ï¼šå†…å­˜ä½¿ç”¨è¿‡é«˜
```bash
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ
python scripts/memory_profiler.py

# å¯ç”¨å†…å­˜é™åˆ¶
python main.py --max-memory 2048  # é™åˆ¶ä¸º2GB
```

### 2. è°ƒè¯•æŠ€å·§

#### å¼€å¯è¯¦ç»†æ—¥å¿—
```python
# åœ¨config/config.jsonä¸­è®¾ç½®
{
  "logging": {
    "level": "DEBUG",
    "console_output": true,
    "detailed_trade_log": true
  }
}
```

#### ä½¿ç”¨è°ƒè¯•æ¨¡å¼
```bash
# å¯åŠ¨è°ƒè¯•æ¨¡å¼
python main.py --debug

# ä½¿ç”¨äº¤äº’å¼è°ƒè¯•
python -i main.py
```

### 3. æ€§èƒ½ä¼˜åŒ–

#### æ•°æ®ç¼“å­˜ä¼˜åŒ–
```python
# å¯ç”¨Redisç¼“å­˜
from redis import Redis

redis_client = Redis(host='localhost', port=6379, decode_responses=True)

# ç¼“å­˜å¸‚åœºæ•°æ®
def get_market_data(symbol, interval):
    cache_key = f"market_data:{symbol}:{interval}"
    cached_data = redis_client.get(cache_key)
    
    if cached_data:
        return json.loads(cached_data)
    
    # è·å–æ–°æ•°æ®
    data = fetch_market_data(symbol, interval)
    
    # ç¼“å­˜æ•°æ®ï¼ˆ5åˆ†é’Ÿè¿‡æœŸï¼‰
    redis_client.setex(cache_key, 300, json.dumps(data))
    
    return data
```

#### å¹¶å‘ä¼˜åŒ–
```python
# ä½¿ç”¨å¼‚æ­¥å¹¶å‘
import asyncio
import aiohttp

async def fetch_multiple_symbols(symbols):
    """å¹¶å‘è·å–å¤šä¸ªå“ç§çš„æ•°æ®"""
    async with aiohttp.ClientSession() as session:
        tasks = [fetch_symbol_data(session, symbol) for symbol in symbols]
        results = await asyncio.gather(*tasks)
        return results

# ä½¿ç”¨ç¤ºä¾‹
symbols = ['BTCUSDT', 'ETHUSDT', 'BNBUSDT']
results = asyncio.run(fetch_multiple_symbols(symbols))
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©
- **åœ¨çº¿æ–‡æ¡£**: https://docs.trading-system.com
- **GitHub Issues**: https://github.com/your-repo/trading-system/issues
- **æŠ€æœ¯è®ºå›**: https://forum.trading-system.com
- **é‚®ä»¶æ”¯æŒ**: support@trading-system.com

### ç¤¾åŒºèµ„æº
- **Telegramç¾¤ç»„**: https://t.me/trading_system_group
- **DiscordæœåŠ¡å™¨**: https://discord.gg/trading-system
- **çŸ¥è¯†åº“**: https://kb.trading-system.com

---

ğŸ“š **æ›´å¤šæ–‡æ¡£**ï¼š
- [APIå‚è€ƒæ–‡æ¡£](API_REFERENCE.md)
- [é…ç½®å‚æ•°è¯´æ˜](CONFIGURATION.md)
- [æ¶æ„è®¾è®¡æ–‡æ¡£](ARCHITECTURE.md)
- [æ•…éšœæ’é™¤æŒ‡å—](TROUBLESHOOTING.md)

ğŸ’¡ **æç¤º**ï¼šå»ºè®®æ–°ç”¨æˆ·ä»æ¨¡æ‹Ÿç¯å¢ƒå¼€å§‹ï¼Œç†Ÿæ‚‰ç³»ç»Ÿåå†ä½¿ç”¨å®ç›˜äº¤æ˜“ã€‚ 