{"timestamp": 1752657395.717271, "datetime": "2025-07-16T17:16:35.717271", "level": "ERROR", "logger": "__main__", "message": "ETH背离检测测试失败: list indices must be integers or slices, not str", "module": "test_real_binance_data", "function": "test_eth_divergence_detection", "line": 312, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752657708.177195, "datetime": "2025-07-16T17:21:48.177195", "level": "ERROR", "logger": "tests.test_real_binance_data", "message": "requests获取数据失败: HTTPSConnectionPool(host='fapi.binance.com', port=443): Read timed out. (read timeout=30)", "module": "test_real_binance_data", "function": "_fetch_with_requests", "line": 186, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.3132339, "datetime": "2025-07-17T10:09:50.313234", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: CompleteMACDDivergenceDetector.detect_divergence() missing 1 required positional argument: 'macd_results'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 147, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.314328, "datetime": "2025-07-17T10:09:50.314328", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: unsupported operand type(s) for +: 'int' and 'dict'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 212, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.315534, "datetime": "2025-07-17T10:09:50.315534", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: CompleteMACDDivergenceDetector.detect_divergence() missing 1 required positional argument: 'macd_results'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 147, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.31651, "datetime": "2025-07-17T10:09:50.316510", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: unsupported operand type(s) for +: 'int' and 'dict'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 212, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.317153, "datetime": "2025-07-17T10:09:50.317153", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: CompleteMACDDivergenceDetector.detect_divergence() missing 1 required positional argument: 'macd_results'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 147, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.318053, "datetime": "2025-07-17T10:09:50.318053", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: unsupported operand type(s) for +: 'int' and 'dict'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 212, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.32165, "datetime": "2025-07-17T10:09:50.321650", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: CompleteMACDDivergenceDetector.detect_divergence() missing 1 required positional argument: 'macd_results'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 147, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.322964, "datetime": "2025-07-17T10:09:50.322964", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: unsupported operand type(s) for +: 'int' and 'dict'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 212, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.323631, "datetime": "2025-07-17T10:09:50.323631", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: CompleteMACDDivergenceDetector.detect_divergence() missing 1 required positional argument: 'macd_results'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 147, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718190.324312, "datetime": "2025-07-17T10:09:50.324312", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: unsupported operand type(s) for +: 'int' and 'dict'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 212, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.8889852, "datetime": "2025-07-17T10:11:42.888985", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'MACDResult' object has no attribute 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.895658, "datetime": "2025-07-17T10:11:42.895658", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: 'RSIResult' object has no attribute 'rsi'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 238, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.899595, "datetime": "2025-07-17T10:11:42.899595", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'MACDResult' object has no attribute 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.9035, "datetime": "2025-07-17T10:11:42.903500", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: 'RSIResult' object has no attribute 'rsi'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 238, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.907153, "datetime": "2025-07-17T10:11:42.907153", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'MACDResult' object has no attribute 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.911131, "datetime": "2025-07-17T10:11:42.911131", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: 'RSIResult' object has no attribute 'rsi'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 238, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.9145138, "datetime": "2025-07-17T10:11:42.914514", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'MACDResult' object has no attribute 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.918472, "datetime": "2025-07-17T10:11:42.918472", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: 'RSIResult' object has no attribute 'rsi'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 238, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.92066, "datetime": "2025-07-17T10:11:42.920660", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'MACDResult' object has no attribute 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718302.9243178, "datetime": "2025-07-17T10:11:42.924318", "level": "ERROR", "logger": "core.signal_generator", "message": "技术指标分析失败: 'RSIResult' object has no attribute 'rsi'", "module": "signal_generator", "function": "analyze_technical_indicators", "line": 238, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718687.547043, "datetime": "2025-07-17T10:18:07.547043", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: MACDResult.__init__() got an unexpected keyword argument 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718687.563406, "datetime": "2025-07-17T10:18:07.563406", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: MACDResult.__init__() got an unexpected keyword argument 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718687.5763998, "datetime": "2025-07-17T10:18:07.576400", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: MACDResult.__init__() got an unexpected keyword argument 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718687.588798, "datetime": "2025-07-17T10:18:07.588798", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: MACDResult.__init__() got an unexpected keyword argument 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718687.598489, "datetime": "2025-07-17T10:18:07.598489", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: MACDResult.__init__() got an unexpected keyword argument 'macd'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718754.746418, "datetime": "2025-07-17T10:19:14.746418", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'ConfigManager' object has no attribute 'lookback_period'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718754.781257, "datetime": "2025-07-17T10:19:14.781257", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'ConfigManager' object has no attribute 'lookback_period'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718754.793028, "datetime": "2025-07-17T10:19:14.793028", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'ConfigManager' object has no attribute 'lookback_period'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718754.808457, "datetime": "2025-07-17T10:19:14.808457", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'ConfigManager' object has no attribute 'lookback_period'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752718754.82069, "datetime": "2025-07-17T10:19:14.820690", "level": "ERROR", "logger": "core.signal_generator", "message": "MACD背离分析失败: 'ConfigManager' object has no attribute 'lookback_period'", "module": "signal_generator", "function": "analyze_macd_divergence", "line": 170, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719550.637197, "datetime": "2025-07-17T10:32:30.637197", "level": "ERROR", "logger": "data.websocket_handler", "message": "JSON解析失败: invalid json...", "module": "websocket_handler", "function": "process_message", "line": 265, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719550.638769, "datetime": "2025-07-17T10:32:30.638769", "level": "ERROR", "logger": "data.websocket_handler", "message": "JSON解析失败: ...", "module": "websocket_handler", "function": "process_message", "line": 265, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.8117208, "datetime": "2025-07-17T10:35:13.811721", "level": "CRITICAL", "logger": "execution.emergency_handler", "message": "应急通知: {\"type\": \"emergency\", \"event_id\": \"emergency_1752719713811\", \"level\": \"low\", \"description\": \"网络连接延迟增加\", \"timestamp\": \"2025-07-17T10:35:13.811442\", \"actions\": [\"alert_only\"]}", "module": "emergency_handler", "function": "send_emergency_notification", "line": 508, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.812599, "datetime": "2025-07-17T10:35:13.812599", "level": "ERROR", "logger": "execution.emergency_handler", "message": "应急事件触发: network_error - 网络连接延迟增加", "module": "emergency_handler", "function": "trigger_emergency", "line": 207, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.814114, "datetime": "2025-07-17T10:35:13.814114", "level": "CRITICAL", "logger": "execution.emergency_handler", "message": "应急通知: {\"type\": \"emergency\", \"event_id\": \"emergency_1752719713813\", \"level\": \"medium\", \"description\": \"BTCUSDT价格异常波动\", \"timestamp\": \"2025-07-17T10:35:13.813448\", \"actions\": [\"alert_only\"]}", "module": "emergency_handler", "function": "send_emergency_notification", "line": 508, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.814373, "datetime": "2025-07-17T10:35:13.814373", "level": "ERROR", "logger": "execution.emergency_handler", "message": "应急事件触发: price_spike - BTCUSDT价格异常波动", "module": "emergency_handler", "function": "trigger_emergency", "line": 207, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.814772, "datetime": "2025-07-17T10:35:13.814772", "level": "CRITICAL", "logger": "execution.emergency_handler", "message": "应急通知: {\"type\": \"emergency\", \"event_id\": \"emergency_1752719713814\", \"level\": \"high\", \"description\": \"单仓位亏损超过阈值\", \"timestamp\": \"2025-07-17T10:35:13.814589\", \"actions\": [\"reduce_position_size\"]}", "module": "emergency_handler", "function": "send_emergency_notification", "line": 508, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.814966, "datetime": "2025-07-17T10:35:13.814966", "level": "ERROR", "logger": "execution.emergency_handler", "message": "应急事件触发: position_risk - 单仓位亏损超过阈值", "module": "emergency_handler", "function": "trigger_emergency", "line": 207, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.8152409, "datetime": "2025-07-17T10:35:13.815241", "level": "CRITICAL", "logger": "execution.emergency_handler", "message": "执行应急动作: 停止交易", "module": "emergency_handler", "function": "handle_stop_trading", "line": 434, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.815562, "datetime": "2025-07-17T10:35:13.815562", "level": "CRITICAL", "logger": "execution.emergency_handler", "message": "执行应急动作: 关闭所有持仓", "module": "emergency_handler", "function": "handle_close_all_positions", "line": 446, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.8159108, "datetime": "2025-07-17T10:35:13.815911", "level": "CRITICAL", "logger": "execution.emergency_handler", "message": "应急通知: {\"type\": \"emergency\", \"event_id\": \"emergency_1752719713815\", \"level\": \"critical\", \"description\": \"总体账户亏损超过阈值\", \"timestamp\": \"2025-07-17T10:35:13.815220\", \"actions\": [\"stop_trading\", \"close_all_positions\"]}", "module": "emergency_handler", "function": "send_emergency_notification", "line": 508, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752719713.816112, "datetime": "2025-07-17T10:35:13.816112", "level": "ERROR", "logger": "execution.emergency_handler", "message": "应急事件触发: account_risk - 总体账户亏损超过阈值", "module": "emergency_handler", "function": "trigger_emergency", "line": 207, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.4136908, "datetime": "2025-07-17T10:48:52.413691", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.41426, "datetime": "2025-07-17T10:48:52.414260", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.414687, "datetime": "2025-07-17T10:48:52.414687", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.41501, "datetime": "2025-07-17T10:48:52.415010", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.415286, "datetime": "2025-07-17T10:48:52.415286", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.41561, "datetime": "2025-07-17T10:48:52.415610", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.415949, "datetime": "2025-07-17T10:48:52.415949", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.416851, "datetime": "2025-07-17T10:48:52.416851", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.41728, "datetime": "2025-07-17T10:48:52.417280", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.417621, "datetime": "2025-07-17T10:48:52.417621", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.417939, "datetime": "2025-07-17T10:48:52.417939", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.418358, "datetime": "2025-07-17T10:48:52.418358", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.4186711, "datetime": "2025-07-17T10:48:52.418671", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.418941, "datetime": "2025-07-17T10:48:52.418941", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.41918, "datetime": "2025-07-17T10:48:52.419180", "level": "ERROR", "logger": "data.data_validator", "message": "验证字段失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_field", "line": 449, "thread": 140704649784128, "extra": {}}
{"timestamp": 1752720532.419489, "datetime": "2025-07-17T10:48:52.419489", "level": "ERROR", "logger": "data.data_validator", "message": "验证单条记录失败: 'str' object has no attribute 'get'", "module": "data_validator", "function": "validate_single_record", "line": 298, "thread": 140704649784128, "extra": {}}
